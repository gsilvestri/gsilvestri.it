<html>
  <head>
    <title>Jobs@Meteor</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div>
      <div class="hero">
        <h1>jobs@meteor</h1>
        <h2>Build open source frameworks with a talented, remote-first team</h2>
        <a href="#jobs" class="btn">See open positions</a>
        <p>We are an <a href="http://github.com/meteor">open-source</a> company dedicated to helping developers build great apps.  We make <a href="http://www.meteor.com">Meteor</a>, the popular JavaScript framework for building collaborative apps, and <a href="http://www.apollodata.com">Apollo</a>, a set of <a href="http://www.apollodata.com/optics">commercial tools</a> and <a href="http://dev.apollodata.com">open-source libraries</a> for using <a href="http://www.graphql.org">GraphQL</a>.</p>
        <p>
          All of us here want to make software development easier, better, and more accessible to more people.  Weâ€™re a talented team of about 20 people spread across the globe. We are proud of our flexible and remote-first work culture.
        </p>

      </div>

      <div id="jobs">
        <h2>Open positions</h2>
        <ul id="jobs-sidebar"></ul><div id="jobs-main"></div>
      </div>
    </div>

    <script
      src="https://code.jquery.com/jquery-3.1.1.min.js"
      crossorigin="anonymous"></script>
    <script>
      var $sidebar = $('#jobs-sidebar');
      var $main = $('#jobs-main');

      function displayJob(job, $sidebarItem) {
        $main.empty();
        $main.append('<h2>' + job.text + '</h2>');
        $main.append('<a href="' + job.applyUrl + '" class="btn">Apply now</a>');
        $main.append('<div>' + job.description + '</div>');

        job.lists.forEach(function (list) {
          $main.append('<h3>' + list.text + '</h3>');
          $main.append('<ul>' + list.content + '</ul>');
        });

        $main.append('<div>' + job.additional + '</div>');

        $sidebar.find('li').removeClass('active');
        $sidebarItem.addClass('active');
      }

      $.getJSON('https://api.lever.co/v0/postings/meteor?mode=json', function (data) {
        data.forEach(function (job, index) {
          var $sidebarItem = $('<li><a href="#">' + job.text + '</a></li>')
          $sidebar.append($sidebarItem);

          $sidebarItem.on('click', function () {
            displayJob(job, $sidebarItem);
          });

          if (index === 0) {
            displayJob(job, $sidebarItem);
          }
        });
      });
    </script>
  </body>
</html>
